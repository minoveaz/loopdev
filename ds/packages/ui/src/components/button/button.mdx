import { Meta, Title, Subtitle, Description, Primary, Controls, Story, Canvas, Source } from '@storybook/blocks';
import * as ButtonStories from './button.stories';

<Meta of={ButtonStories} />

<Title>Button</Title>
<Subtitle>Elemento interactivo fundamental para acciones y navegación.</Subtitle>

<Description>
  Permitir al usuario realizar acciones, navegar o confirmar decisiones. Es el elemento interactivo fundamental del sistema, garantizando consistencia visual y de comportamiento en todas las llamadas a la acción (CTAs).
</Description>

<Canvas of={ButtonStories.Primary} />

## Props (API)
Configura las propiedades del botón directamente aquí:
<Controls />

---

## Anatomía
El botón se compone de:
- **Contenedor:** Define el área interactiva e incluye micro-animación de escala (`active:scale-[0.98]`).
- **Label (Texto):** Describe la acción de forma concisa.
- **Iconos (Slot Izquierdo/Derecho):** Para reforzar el significado visual.
- **Spinner (Loading):** Reemplaza o acompaña a los iconos durante procesos asíncronos.

---

## Variantes Visuales

### Primary
El CTA más importante de la vista. Solo debe haber uno por sección.
<Canvas of={ButtonStories.Primary} />

### Destructive
Para acciones peligrosas o irreversibles.
<Canvas of={ButtonStories.Destructive} />

### Ghost & Outline
Para acciones secundarias o de bajo peso visual.
<Canvas of={ButtonStories.Ghost} />
<Canvas of={ButtonStories.Outline} />

---

## Estados Funcionales

### Loading
El botón se deshabilita automáticamente y muestra un spinner.
<Canvas of={ButtonStories.Loading} />

### Con Iconos
Soporte nativo para iconos a la izquierda y derecha.
<Canvas of={ButtonStories.WithIcons} />

---

## Galería de Referencia

### Todas las Variantes (Colores)
Comparativa visual de la paleta de colores del botón.
<Canvas of={ButtonStories.AllVariants} />

### Matriz de Estados
Visualización de iconos, estados de carga y deshabilitados en conjunto.
<Canvas of={ButtonStories.ButtonStates} />

---

## Accesibilidad (A11y)
- **Polimorfismo:** Soporta `asChild` mediante `@radix-ui/react-slot`.
- **Contraste:** Texto forzado a blanco en variantes oscuras para cumplir WCAG AA.
- **Teclado:** Navegable vía Tab y ejecutable vía Enter/Space.

---

## Ejemplos de Implementación

### Uso con Next.js Link
```tsx
import { Button } from "@loopdev/ui";
import Link from "next/link";

<Button asChild variant="outline">
  <Link href="/dashboard">Ir al Dashboard</Link>
</Button>
```